<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preload" href="css/style.css" as="style">

    <title>Galeria</title>
</head>
<body>
        <button class="displayGaleria" onclick="displayGallery()">Abrir galeria</button>
        <div class="gallery-container" id="carousel">
            <div class="carousel" data-carousel>
                <button class="carousel-button prev" data-carousel-button>&#8249</button>
                <button class="carousel-button next" data-carousel-button>&#8250</button>
                <ul data-slides>
                    <li class="slide" data-active>
                        <img src="img/banner.jpg" alt="">
                    </li>
                    <li class="slide">
                        <img src="img/imag2.jpg" alt="">
                    </li>
                    <li class="slide">
                        <img src="img/img3.jpg" alt="">
                    </li>
                </ul>
            </div>
        </div>

        <script>
            function displayGallery(){
                document.getElementById('carousel').style.display='inline';
            }

            const buttons = document.querySelectorAll('[data-carousel-button]');

            buttons.forEach(button => {
                button.addEventListener('click',()=>{
                    const offset=button.dataset.carouselButton==="next" ? 1 : -1;
                    const slides= button.closest('[data-carousel]').querySelector('[data-slides]');
                    const activeSlide = slides.querySelector('[data-active]');
                    let newIndex=[...slides.children].indexOf(activeSlide)+offset;
                    if(newIndex<0)newIndex=slides.children.length-1;
                    if(newIndex >=slides.children.length)newIndex=0;

                    slides.children[newIndex].dataset.active=true;
                    delete activeSlide.dataset.active;


                })
            })

            document.addEventListener("keyup",(evento) =>{
                if(evento.keyCode===27){
                    document.getElementById('carousel').style.display='none';

                }else{
                    return
                }
            })

        </script>

</body>
</html>